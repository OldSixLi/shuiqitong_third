webpackJsonp([7],{NqdR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"AskList",props:{},data:function(){return{currentPanel:"1",currentPage1:1,totalPage1:2,askList1:[],loading1:!1,currentPage0:1,totalPage0:2,askList0:[],loading0:!1}},beforeCreate:function(){},mounted:function(){},methods:{addQuestion:function(){this.$to("/ask/add")},getQuestionList:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this["loading"+t]=!0,this.$get("/queres/list",{currentPage:a,state:t,userId:"1"}).then(function(a){a.success?(e["askList"+t]=e["askList"+t].concat(a.bean.data),e["currentPage"+t]=a.bean.pageNum,e["totalPage"+t]=a.bean.pageCount,e["currentPage"+t]>e["totalPage"+t]&&(e["currentPage"+t]=e["totalPage"+t]),a.bean&&a.bean.data&&a.bean.data.length>0&&(e["loading"+t]=e["currentPage"+t]>=e["totalPage"+t])):(e["currentPage"+t]=e["totalPage"+t]=0,e.$tip("请求服务失败，请稍后重试!"))},function(a){e["askList"+t]=[],e["currentPage"+t]=0,e["totalPage"+t]=0,e.$alert("请求服务失败，请重试!")})},loadMore1:function(){if(1==this.currentPanel){var t=++this.currentPage1;this.totalPage1;this.getQuestionList("1",t)}},loadMore0:function(){if(2==this.currentPanel){var t=++this.currentPage0;this.totalPage0;this.getQuestionList("0",t)}},toDetail:function(t){this.$to("/ask/detail/"+t)}},beforeRouteEnter:function(t,e,a){a(function(e){e.askList1=e.askList0=[],e.getQuestionList("0"),e.getQuestionList("1"),t.query&&"2"==t.query.panel&&(e.currentPanel="2")})}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("mt-header",{attrs:{fixed:"",title:"问题列表"}},[i("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[i("mt-button",{attrs:{icon:"back"}},[t._v("返回")])],1),t._v(" "),i("mt-button",{attrs:{slot:"right"},on:{click:t.addQuestion},slot:"right"},[t._v("+ 提问问题")])],1),t._v(" "),i("mt-navbar",{model:{value:t.currentPanel,callback:function(e){t.currentPanel=e},expression:"currentPanel"}},[i("mt-tab-item",{attrs:{id:"1"}},[t._v("已解决")]),t._v(" "),i("mt-tab-item",{attrs:{id:"2"}},[t._v("未解决")])],1),t._v(" "),i("mt-tab-container",{model:{value:t.currentPanel,callback:function(e){t.currentPanel=e},expression:"currentPanel"}},[i("mt-tab-container-item",{attrs:{id:"1"}},[i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore1,expression:"loadMore1"}],staticClass:"white",attrs:{"infinite-scroll-disabled":"loading1","infinite-scroll-distance":"40"}},[t._l(t.askList1,function(e,n){return t.askList1.length>0?i("div",{staticClass:"ask-li msg-child",on:{click:function(a){t.toDetail(e.id||"1")}}},[i("p",{staticClass:"title"},[t._v(" "+t._s(e.queTitle))]),t._v(" "),i("p",{staticClass:"time"},[i("img",{attrs:{src:a("xxCs")}}),i("span",[t._v(t._s(t._f("toTime")(t._f("toStamp")(e.queTime))))])])]):t._e()}),t._v(" "),0==t.askList1.length&&0==t.currentPage1&&0==t.totalPage1?i("div",{staticClass:"nomore-data"},[t._v("\n          暂无数据\n        ")]):t._e(),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.loading1&&t.currentPage1<t.totalPage1,expression:"(loading1&&currentPage1<totalPage1)"}],staticClass:"page-infinite-loading"},[i("mt-spinner",{attrs:{type:"fading-circle"}}),t._v("\n          加载中...\n        ")],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.currentPage1==t.totalPage1&&t.currentPage1>0,expression:"currentPage1==totalPage1&&currentPage1>0"}],staticClass:"nomore-data"},[t._v("无更多内容")])],2)]),t._v(" "),i("mt-tab-container-item",{attrs:{id:"2"}},[i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore0,expression:"loadMore0"}],staticClass:"white",attrs:{"infinite-scroll-disabled":"loading0","infinite-scroll-distance":"40","infinite-scroll-immediate-check":"false"}},[t._l(t.askList0,function(e,n){return t.askList0.length>0?i("div",{staticClass:"ask-li msg-child",on:{click:function(a){t.toDetail(e.id||"1")}}},[i("p",{staticClass:"title"},[t._v(" "+t._s(e.queTitle))]),t._v(" "),i("p",{staticClass:"time"},[i("img",{attrs:{src:a("xxCs")}}),i("span",[t._v(t._s(t._f("toTime")(t._f("toStamp")(e.queTime))))])])]):t._e()}),t._v(" "),0==t.askList0.length&&0==t.currentPage0&&0==t.totalPage0?i("div",{staticClass:"nomore-data"},[t._v("\n          暂无数据\n        ")]):t._e(),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.loading0&&t.currentPage0<t.totalPage0,expression:"loading0&&currentPage0<totalPage0"}],staticClass:"page-infinite-loading"},[i("mt-spinner",{attrs:{type:"fading-circle"}}),t._v("\n          加载中...\n        ")],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.currentPage0==t.totalPage0&&t.currentPage0>0,expression:"currentPage0==totalPage0&&currentPage0>0"}],staticClass:"nomore-data"},[t._v("无更多内容")])],2)])],1)],1)},staticRenderFns:[]};var s=a("C7Lr")(i,n,!1,function(t){a("R5Dd"),a("a0Zb")},"data-v-ebd8b306",null);e.default=s.exports},R5Dd:function(t,e){},a0Zb:function(t,e){}});